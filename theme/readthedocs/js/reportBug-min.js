var feedback={};function closeSendContent(){feedback.successForm.addClass("not-visible"),feedback.popupContent.show(),feedback.wrapper.addClass("not-visible"),feedback.gridBody.removeClass("no-scroll")}function sendIssue(){for(var e,t=new XMLHttpRequest,n=window.location.protocol+"//"+window.location.hostname+"/issue_report.php",o=feedback.textarea.val()||"",s=feedback.selectedText.text()||"",a=feedback.selectedParent.parentElement,d=feedback.username.val()||"";a.outerText.length<=s.length;)a=a.parentElement;e=encodeURI("comment="+o+"&selected="+s+"&page="+window.location.pathname+"&userName="+d+"&parent="+a.outerText),t.open("POST",n,!0),t.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),t.send(e),feedback.textarea.val(""),feedback.gridBody.removeClass("no-scroll"),showSuccess()}function showSuccess(){feedback.successForm=$(".successText"),feedback.popupContent=$(".popup-content"),feedback.popupContent.hide(),feedback.successForm.removeClass("not-visible"),setTimeout(function(){closeSendContent()},3e3)}!function(s){var a,d,r,c,p,i="body";$(i).ready(function(){var t="not-visible",n="disable";function e(e){s.wrapper.hasClass(t)||((e=e||window.event).preventDefault&&e.preventDefault(),e.returnValue=!1)}function o(){this.value.trim()?s.sendBtn.removeClass(n):s.sendBtn.addClass(n)}s.body=a=$(i),s.gridBody=a.children(".wy-grid-for-nav"),s.wrapper=d=$(".wrapper"),s.popupContent=d.children(":first"),s.description=p=d.find(".popup-description"),s.textarea=s.popupContent.find(".comment"),s.note=s.popupContent.find(".rst-content"),s.selectedText=p.find(".selected .text"),s.selectedParent="",s.sendBtn=s.popupContent.find(".actions .btn"),s.successForm=s.popupContent.find(".successText"),s.username=s.popupContent.find(".name .input"),s.textarea.keyup(o).focusout(o),window.addEventListener("DOMMouseScroll",e,!1),window.onwheel=e,window.onmousewheel=document.onmousewheel=e,window.ontouchmove=e,s.body.keypress(function(e){if(e.ctrlKey&&(10==e.keyCode||13==e.keyCode)){if(!s.wrapper.hasClass(t))return;c=window.getSelection(),r=c.toString()||"",s.selectedParent=c.anchorNode,s.wrapper.removeClass(t),s.username.val()?s.textarea.focus():s.username.focus(),r?(s.sendBtn.removeClass(n),s.description.removeClass(t),s.selectedText.text(r),s.note.addClass(t)):(s.textarea.val()||s.sendBtn.addClass(n),s.note.removeClass(t),s.description.addClass(t))}}),s.body.keyup(function(e){27==e.keyCode&&s.wrapper.addClass(t)}),s.body.on("click",function(e){s.wrapper.hasClass(t)||s.popupContent.has(e.target).length||s.wrapper.addClass(t)})})}(feedback);