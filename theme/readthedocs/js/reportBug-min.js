var feedback={};function closeSendContent(){feedback.successForm.addClass("not-visible"),feedback.popupContent.show(),feedback.wrapper.addClass("not-visible")}function sendIssue(){var e,t=new XMLHttpRequest,n=window.location.protocol+"//"+window.location.hostname+"/issue_report.php",s=feedback.textarea.val()||"",o=feedback.selectedText.text()||"",d=feedback.username.val()||"";e=encodeURI("?comment="+s+"&selected="+o+"&page="+window.location.pathname+"&userName="+d),t.open("GET",n+e,!0),t.setRequestHeader("Content-Type","application/json"),t.send(),showSuccess()}function showSuccess(){feedback.successForm=$(".successText"),feedback.popupContent=$(".popup-content"),feedback.popupContent.hide(),feedback.successForm.removeClass("not-visible"),setTimeout(function(){closeSendContent()},3e3)}!function(s){var o,d,a,c="body";$(c).ready(function(){var t="not-visible",n="disable";function e(){this.value?s.sendBtn.removeClass(n):s.sendBtn.addClass(n)}s.body=$(c),s.wrapper=o=$(".wrapper"),s.popupContent=o.children(":first"),s.description=a=o.find(".popup-description"),s.textarea=s.popupContent.find(".comment"),s.selectedText=a.find(".selected .text"),s.sendBtn=s.popupContent.find(".actions .btn"),s.successForm=s.popupContent.find(".successText"),s.username=s.popupContent.find(".name .input"),s.textarea.keyup(e).focusout(e),s.body.keypress(function(e){!e.ctrlKey||10!=e.keyCode&&13!=e.keyCode||(d=window.getSelection().toString()||"",s.wrapper.removeClass(t),d?(s.sendBtn.removeClass(n),s.description.removeClass(t),s.selectedText.text(d)):(s.sendBtn.addClass(n),s.description.addClass(t)))}),s.body.keyup(function(e){27==e.keyCode&&s.wrapper.addClass(t)})})}(feedback);